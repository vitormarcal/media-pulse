spring:
  web:
    resources:
      static-locations:
        - file:${media-pulse.storage.covers-path}
  mvc:
    static-path-pattern: /covers/**
  codec:
    max-in-memory-size: 10MB
  datasource:
    url: ${SPRING_DATASOURCE_URL}
    username: ${SPRING_DATASOURCE_USERNAME}
    password: ${SPRING_DATASOURCE_PASSWORD}
    driver-class-name: org.postgresql.Driver
  jpa:
    hibernate:
      ddl-auto: ${SPRING_JPA_HIBERNATE_DDL_AUTO:validate}
  flyway:
    enabled: true
    locations: classpath:db/migration

media-pulse:
  pipeline:
    enabled: ${PIPELINE_IMPORT_ENABLED:true}
    schedule-cron: ${PIPELINE_IMPORT_CRON:0 0 4 * * *}
    run-on-startup: ${PIPELINE_RUN_ON_STARTUP:true}
  plex:
    base-url: ${PLEX_URL:http://plex:32400}
    token: ${PLEX_TOKEN}
    import:
      enabled: ${PLEX_IMPORT_ENABLED:true}
      page-size: ${PLEX_IMPORT_PAGE_SIZE:200}
  musicbrainz:
    enabled: ${MB_IMPORT_ENABLED:true}
    user-agent: "media-pulse/1.0"
    enrich:
      batch-size: ${MB_ENRICH_BATCH_SIZE:200}
      max-tags: ${MB_ENRICH_MAX_TAGS:30}
      min-request-interval-ms: ${MB_ENRICH_MIN_REQUEST_INTERVAL_MS:1200}
  storage:
    covers-path: "/data/covers"
  allowed-origin:
    - http://localhost:8080

